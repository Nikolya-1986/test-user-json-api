<section class="create__user create">
    <form class="create__form form"
        [formGroup]="formCreate" 
        (ngSubmit)="createUser()" 
        >
        <!-- Picture -->
        <div class="create__pictures" 
            *ngFor="let image of picture; let ind=index"
            >
            <div class="images">
                <img [src]="image.src">
                <span (click)="deleteImage(ind)">
                    X
                </span>
            </div>
        </div>
        <div class="create__form-group form-group">
            <label for="picture">
                Upload File:
            </label>
            <input 
                (change)="addPicture($event)" 
                type="file"
                formControlName="picture"
            />
            <div class="validation">
                <ng-container *ngIf="formCreate.controls['picture'].touched && formCreate.controls['picture'].invalid">
                    <small class="error"
                        *ngIf="formCreate.get('picture')?.hasError('noFile')"
                        >
                        ðŸš« &nbsp; Please select <strong>images for editing!</strong> 
                    </small>
                    <small class="error"
                        *ngIf="formCreate.get('picture')?.hasError('fileToBig')"
                        >
                        ðŸš« &nbsp; Image size should not be more than <strong>1000000 bytes!</strong>
                    </small>
                </ng-container>
                <ng-container *ngIf="formCreate.controls['picture'].dirty && formCreate.controls['picture'].valid">
                    <small class="available">
                        âœ… &nbsp;Hurray, picture valid!
                    </small>
                </ng-container>
            </div>
        </div>
        <!-- Name -->
        <ng-container formGroupName="name">
            <!-- title -->
            <div class="create__form-group form-group">
                <label for="title">
                    Appeal
                </label>
                <select formControlName="title">
                    <option
                        [value]="item" 
                        *ngFor="let item of appeal"
                        >
                        {{ item }}
                    </option>
                </select>
                <div class="validation">
                    <ng-container *ngIf="formCreate.get('name')?.get('title')?.touched && formCreate.get('name')?.get('title')?.invalid">
                        <small class="error"
                            *ngIf="formCreate.get('name')?.get('title')?.hasError('required')"
                            >
                            ðŸš« &nbsp; You must provide a <strong>select!</strong>
                        </small>
                    </ng-container>
                    <ng-container *ngIf="formCreate.get('name')?.get('title')?.dirty && formCreate.get('name')?.get('title')?.valid">
                        <small class="available">
                            âœ… &nbsp;Hurray, appeal valid!
                        </small>
                    </ng-container>
                </div>
            </div>
            <!-- First name -->
            <div class="create__form-group form-group">
                <label for="first">
                    First name
                </label>
                <input id="first" 
                    type="text"  
                    placeholder="Enter first name..." 
                    formControlName="first"
                    autocomplete="off"
                />
                <div class="validation">
                    <ng-container *ngIf="formCreate.get('name')?.get('first')?.invalid && formCreate.get('name')?.get('first')?.touched">
                        <small class="error"
                            *ngIf="formCreate.get('name')?.get('first')?.hasError('required')"
                            >
                            ðŸš« &nbsp; You must provide a <strong>first name!</strong>
                        </small>
                        <small class="error"
                            *ngIf="formCreate.get('name')?.get('first')?.hasError('pattern')"
                            >
                            ðŸš« &nbsp; You must provide only <strong>letters and numbers!</strong>
                        </small>
                    </ng-container>
                    <ng-container *ngIf="formCreate.get('name')?.get('first')?.dirty && formCreate.get('name')?.get('first')?.valid">
                        <small class="available">
                            âœ… &nbsp;Hurray, first name valid!
                        </small>
                    </ng-container>
                </div>
            </div>
            <!-- Last name -->
            <div class="create__form-group form-group">
                <label for="last">
                    Last name
                </label>
                <input id="first" 
                    type="text"  
                    placeholder="Enter last name..." 
                    formControlName="last"
                    autocomplete="off"
                />
                <div class="validation">
                    <ng-container *ngIf="formCreate.get('name')?.get('last')?.invalid && formCreate.get('name')?.get('last')?.touched">
                        <small class="error"
                            *ngIf="formCreate.get('name')?.get('last')?.hasError('required')"
                            >
                            ðŸš« &nbsp; You must provide a <strong>last name!</strong>
                        </small>
                            <small class="error"
                            *ngIf="formCreate.get('name')?.get('last')?.hasError('pattern')"
                            >
                            ðŸš« &nbsp; You must provide only <strong>letters!</strong>
                        </small>
                    </ng-container>
                    <ng-container *ngIf="formCreate.get('name')?.get('last')?.dirty && formCreate.get('name')?.get('last')?.valid">
                        <small class="available">
                            âœ… &nbsp;Hurray, last name valid!
                        </small>
                    </ng-container>
                </div>
            </div>
        </ng-container>
        <!-- Gender -->
        <div class="create__form-checkbox">
            <app-gender-accessor formControlName="gender"></app-gender-accessor>
            <div class="validation"
                *ngIf="formCreate.get('gender')?.invalid && formCreate.get('gender')?.touched"
                >
                <small class="error"
                    *ngIf="formCreate.get('gender')?.hasError('required')"
                    >
                    ðŸš« &nbsp; You must provide a <strong>gender!</strong>
                </small>
            </div>
        </div>
        <!-- Status -->
        <div class="create__form-checkbox">
            <app-status-accessor formControlName="status"></app-status-accessor>
            <div class="validation"
                *ngIf="formCreate.get('status')?.invalid && formCreate.get('status')?.touched"
                >
                <small class="error"
                    *ngIf="formCreate.get('status')?.hasError('required')"
                    >
                    ðŸš« &nbsp; You must provide a <strong>status!</strong>
                </small>
            </div>
        </div>
        <!-- Date of birth -->
        <div class="create__form-group form-group">
            <label for="date">
                Date of birth
            </label>
            <input id="date"
                type="date"
                formControlName="dob"
            />
            <div class="validation">
                <ng-container *ngIf="formCreate.get('dob')?.invalid && formCreate.get('dob')?.touched">
                    <small class="error"
                        *ngIf="formCreate.get('dob')?.hasError('required')"
                        >
                        ðŸš« &nbsp; You must provide a <strong>date of birth!</strong>
                    </small>
                        <small class="error"
                        *ngIf="formCreate.get('dob')?.hasError('invalidDate')"
                        >
                        ðŸš« &nbsp; Your birthday must be greater than <strong>today's date!</strong>
                    </small>
                </ng-container>
                <ng-container *ngIf="formCreate.get('dob')?.dirty && formCreate.get('dob')?.valid">
                    <small class="available">
                        âœ… &nbsp;Hurray, date of birth is valid!
                    </small>
                </ng-container>
            </div>
        </div>
        <!-- location -->
        <ng-container formGroupName="location">
            <!-- Country -->
            <div class="create__form-group form-group">
                <app-countries-accessor formControlName="country"></app-countries-accessor>
                <div class="validation">
                    <ng-container *ngIf="formCreate.get('location')?.get('country')?.invalid && formCreate.get('location')?.get('country')?.touched">
                        <small class="error"
                            *ngIf="formCreate.get('location')?.get('country')?.hasError('required')"
                            >
                            ðŸš« &nbsp; You must provide a <strong>country!</strong>
                        </small>
                    </ng-container>
                    <ng-container *ngIf="formCreate.get('location')?.get('country')?.dirty && formCreate.get('location')?.get('country')?.valid">
                        <small class="available">
                            âœ… &nbsp;Hurray, country valid!
                        </small>
                    </ng-container>
                </div>
            </div>
            <!-- City -->
            <div class="create__form-group form-group">
                <label for="city">
                    City
                </label>
                <input id="city" 
                    type="text"  
                    placeholder="Enter your city..." 
                    formControlName="city"
                    autocomplete="off"
                />
                <div class="validation">
                    <ng-container *ngIf="formCreate.get('location')?.get('city')?.invalid && formCreate.get('location')?.get('city')?.touched">
                        <small class="error"
                            *ngIf="formCreate.get('location')?.get('city')?.hasError('required')"
                            >
                            ðŸš« &nbsp; You must provide a <strong>city!</strong>
                        </small>
                            <small class="error"
                            *ngIf="formCreate.get('location')?.get('city')?.hasError('pattern')"
                            >
                            ðŸš« &nbsp; You must provide only <strong>letters!</strong>
                        </small>
                    </ng-container>
                    <ng-container *ngIf="formCreate.get('location')?.get('city')?.dirty && formCreate.get('location')?.get('city')?.valid">
                        <small class="available">
                            âœ… &nbsp;Hurray, city valid!
                        </small>
                    </ng-container>
                </div>

            </div>
            <!-- Postcode -->
            <div class="create__form-group form-group">
                <label for="postcode">
                    Postcode
                </label>
                <input id="postcode"
                    type="text" 
                    placeholder="Enter your postcode..." 
                    formControlName="postcode"
                    autocomplete="off"
                />
                <div class="validation">
                    <ng-container *ngIf="formCreate.get('location')?.get('postcode')?.invalid && formCreate.get('location')?.get('postcode')?.touched">
                        <small class="error"
                            *ngIf="formCreate.get('location')?.get('postcode')?.hasError('required')"
                            >
                            ðŸš« &nbsp; You must provide a <strong>postcode!</strong>
                        </small>
                        <small class="error"
                            *ngIf="formCreate.get('location')?.get('postcode')?.hasError('pattern')"
                            >
                            ðŸš« &nbsp; You must provide only <strong>numbers!</strong>
                        </small>
                        <small class="error"
                            *ngIf="formCreate.get('location')?.get('postcode')?.hasError('minlength')"
                            >
                            ðŸš« &nbsp; You must provide not less than <strong>4 numbers!</strong>
                        </small>
                        <small class="error"
                            *ngIf="formCreate.get('location')?.get('postcode')?.hasError('maxlength')"
                            >
                            ðŸš« &nbsp; You must provide not more than <strong>6 numbers!</strong>
                        </small>
                    </ng-container>
                    <ng-container *ngIf="formCreate.get('location')?.get('postcode')?.dirty && formCreate.get('location')?.get('postcode')?.valid">
                        <small class="available">
                            âœ… &nbsp;Hurray, postcode valid!
                        </small>
                    </ng-container>
                </div>
            </div>
            <!-- Coordinates -->
            <ng-container formGroupName="coordinates">
                <!-- Latitude -->
                <div class="create__form-group form-group">
                    <label for="latitude">
                        Coordinates latitude
                    </label>
                    <input id="latitude"
                        type="text" 
                        placeholder="Latitude has next format: -/+XXX.XXXX"
                        formControlName="latitude"
                        autocomplete="off"
                    />
                    <div class="validation">
                        <ng-container 
                            *ngIf="formCreate.get('location')?.get('coordinates')?.get('latitude')?.invalid 
                            && formCreate.get('location')?.get('coordinates')?.get('latitude')?.touched"
                            >
                            <small class="error"
                                *ngIf="formCreate.get('location')?.get('coordinates')?.get('latitude')?.hasError('required')"
                                >
                                ðŸš« &nbsp; You must provide a <strong>coordinates latitude!</strong>
                            </small>
                            <small class="error"
                                *ngIf="formCreate.get('location')?.get('coordinates')?.get('latitude')?.hasError('ivalidCoordinates')"
                                >
                                ðŸš« &nbsp; You must provide only <strong>coordinates latitude!</strong>
                            </small>
                        </ng-container>
                        <ng-container 
                            *ngIf="formCreate.get('location')?.get('coordinates')?.get('latitude')?.dirty 
                            && formCreate.get('location')?.get('coordinates')?.get('latitude')?.valid"
                            >
                            <small class="available">
                                âœ… &nbsp;Hurray, coordinates latitude valid!
                            </small>
                        </ng-container>
                    </div>
         
                </div>
                <!-- Longitude -->
                <div class="create__form-group form-group">
                    <label for="longitude">
                        Coordinates longitude
                    </label>
                    <input id="longitude"
                        type="text" 
                        placeholder="Longitude has next format: -/+XXX.XXXX"
                        formControlName="longitude"
                        autocomplete="off"
                    />
                    <div class="validation">
                        <ng-container
                            *ngIf="formCreate.get('location')?.get('coordinates')?.get('longitude')?.invalid 
                            && formCreate.get('location')?.get('coordinates')?.get('longitude')?.touched"
                            >
                            <small class="error"
                                *ngIf="formCreate.get('location')?.get('coordinates')?.get('longitude')?.hasError('required')"
                                >
                                ðŸš« &nbsp; You must provide a <strong>coordinates longitude!</strong>
                            </small>
                            <small class="error"
                                *ngIf="formCreate.get('location')?.get('coordinates')?.get('longitude')?.hasError('ivalidCoordinates')"
                                >
                                ðŸš« &nbsp; You must provide only <strong>corect longitude!</strong>
                            </small>
                        </ng-container>
                        <ng-container
                            *ngIf="formCreate.get('location')?.get('coordinates')?.get('longitude')?.dirty && 
                            formCreate.get('location')?.get('coordinates')?.get('longitude')?.valid"
                            >
                            <small class="available">
                                âœ… &nbsp;Hurray, coordinates longitude valid!
                            </small>
                        </ng-container>
                    </div>
                </div>
            </ng-container>
        </ng-container>
        <!-- Email -->
        <app-email-accessor
            [placeholder]="'Enter your email...'"
            [label] = "'Email'"
            formControlName="email"
            >
        </app-email-accessor>
        <!-- Website -->
        <div class="create__form-group form-group">
            <label for="website">
                Website
            </label>
            <input id="website"
                type="url" 
                placeholder="Enter website..." 
                formControlName="website" 
                autocomplete="off"
            />
            <div class="validation">
                <ng-container *ngIf="formCreate.get('website')?.invalid && formCreate.get('website')?.touched">
                    <small class="error"
                        *ngIf="formCreate.get('website')?.hasError('required')"
                        >
                        ðŸš« &nbsp; You must provide a <strong>website!</strong>
                    </small>
                    <small class="error"
                        *ngIf="formCreate.get('website')?.hasError('invlidUrl')"
                        >
                        ðŸš« &nbsp; Your website address must be <strong>http://*****.com!</strong>
                    </small>
                </ng-container>
                <ng-container *ngIf="formCreate.get('website')?.disable && formCreate.get('website')?.valid">
                    <small class="available">
                        âœ… &nbsp; Hurray, coordinates website valid!
                    </small>
                </ng-container>
            </div>
        </div>
        <!-- Languages Array-->
        <div class="create__form-group form-group"
            formArrayName="language"
            >
            <label for="language">
                Add languages
            </label>
            <button 
                type="button" 
                (click)="addLanguage()"
                >
                Add language
            </button>
            <table>
                <tr 
                    *ngFor="let item of language.controls; let ind = index;"
                    >
                    <td>
                        <input class="form-control"
                            id="language"
                            type="text"  
                            [formControlName]="ind"
                        />
                    </td>             
                    <td>
                        <button
                            type="button" 
                            (click)="deleteLanguage(ind)"
                            >
                            Delete
                        </button>
                    </td>
                
                </tr>            
            </table>
            <div class="validation"
                *ngIf="formCreate.get('language')?.get('ind')?.invalid && formCreate.get('language')?.get('ind')?.touched"
                >
                <small class="error"
                    *ngIf="formCreate.get('language')?.get('ind')?.hasError('isEmpty')"
                    >
                    ðŸš« &nbsp; You must provide a <strong>language!</strong>
                </small>
                <small class="error"
                    *ngIf="formCreate.get('language')?.get('ind')?.hasError('pattern')"
                    >
                    ðŸš« &nbsp; You must provide only <strong>letters!</strong>
                </small>
            </div>
        </div>
        <!-- Available -->
        <div class="create__form-checkbox form-group">
            <app-available-accessor formControlName="available"></app-available-accessor>
            <div class="validation"
                *ngIf="formCreate.get('available')?.invalid && formCreate.get('available')?.touched"
                >
                <small class="error"
                    *ngIf="formCreate.get('available')?.hasError('required')"
                    >
                    ðŸš« &nbsp; You must provide a <strong>available!</strong>
                </small>
            </div>
        </div>
        <!-- Date registered -->
        <div class="create__form-group form-group">
            <label for="date">
                Date of registered
            </label>
            <input id="date"
                type="text" 
                formControlName="registered" 
            />
            {{ registeredDate | localTime }}
        </div>
        <!-- Phone -->
        <div class="create__form-group form-group">
            <label for="phone">
                Phone
            </label>
            <input id="phone"
                type="tel" 
                placeholder="Enter phone next format: 989-365-4108..." 
                formControlName="phone" 
                autocomplete="off"
            />
            <div class="validation">
                <ng-container *ngIf="formCreate.get('phone')?.invalid && formCreate.get('phone')?.touched">
                    <small class="error"
                        *ngIf="formCreate.get('phone')?.hasError('required')"
                        >
                        ðŸš« &nbsp; You must provide a <strong>phone!</strong>
                    </small>
                        <small class="error"
                        *ngIf="formCreate.get('phone')?.hasError('invalidPhone')"
                        >
                        ðŸš« &nbsp;You must provide a <strong>valid phone!</strong>
                    </small>
                </ng-container>
                <ng-container *ngIf="formCreate.get('phone')?.touched && formCreate.get('phone')?.valid">
                    <small class="available">
                        âœ… &nbsp; Hurray, coordinates phone valid!
                    </small>
                </ng-container>
            </div>
            <div class="validation"
                *ngIf="formCreate.get('phone')?.invalid && formCreate.get('phone')?.touched"
                >

            </div>
        </div>
        <!-- Nationality -->
        <div class="create__form-group form-group">
            <label for="nat">
                Nationality
            </label>
            <input id="nat"
                type="text" 
                placeholder="Enter your nationality..." 
                formControlName="nat" 
                autocomplete="off"
            />
            <div class="validation">
                <ng-container *ngIf="formCreate.get('nat')?.touched && formCreate.get('nat')?.invalid">
                    <small class="error"
                        *ngIf="formCreate.get('nat')?.hasError('required')"
                        >
                        ðŸš« &nbsp; You must provide a <strong>nat!</strong>
                    </small>
                    <small class="error"
                        *ngIf="formCreate.get('nat')?.hasError('pattern')"
                        >
                        ðŸš« &nbsp; You must provide only <strong>capital letters!</strong>
                    </small>
                    <small class="error"
                        *ngIf="formCreate.get('nat')?.hasError('maxlength')"
                        >
                        ðŸš« &nbsp; You must provide not more than <strong>3 capital letters!</strong>
                    </small>
                </ng-container>
                <ng-container *ngIf="formCreate.get('nat')?.dirty && formCreate.get('nat')?.valid">
                    <small class="available">
                        âœ… &nbsp; Hurray, coordinates nationality valid!
                    </small>
                </ng-container>
            </div>
        </div>
        <!-- Submit -->
        <div class="create__form-group form-group">
            <button 
                [disabled]="formCreate.invalid || formCreate.pending"
                >
                Create user
            </button>
        </div>
    </form>
</section>